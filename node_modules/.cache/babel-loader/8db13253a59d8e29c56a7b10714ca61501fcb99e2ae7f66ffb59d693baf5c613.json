{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import\"./VehicleDetail.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VehicleDetail(){const{id}=useParams();const[vehicle,setVehicle]=useState(null);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");return;}fetch(`http://localhost:5000/api/vehicles/${id}`,{headers:{Authorization:`Bearer ${token}`}}).then(res=>{if(!res.ok)throw new Error(\"Vehicle not found\");return res.json();}).then(data=>setVehicle(data)).catch(err=>setError(err.message));},[id,navigate]);const handleDelete=async()=>{if(!window.confirm(\"Are you sure you want to delete this vehicle?\"))return;const token=localStorage.getItem(\"token\");try{const res=await fetch(`http://localhost:5000/api/vehicles/${id}`,{method:\"DELETE\",headers:{Authorization:`Bearer ${token}`}});if(!res.ok)throw new Error(\"Failed to delete vehicle\");navigate(\"/\");}catch(err){setError(err.message);}};if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});if(!vehicle)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-detail-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Vehicle Detail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:vehicle.name,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"Current Mileage\"})}),/*#__PURE__*/_jsx(\"input\",{value:vehicle.current_mileage,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Service KM\"}),/*#__PURE__*/_jsx(\"input\",{value:vehicle.last_service_km,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Service Interval KM\"}),/*#__PURE__*/_jsx(\"input\",{value:vehicle.service_interval_km,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tax Due\"}),/*#__PURE__*/_jsx(\"input\",{value:vehicle.pajak_due?vehicle.pajak_due.slice(0,10):\"\",readOnly:true,type:\"date\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate(\"/\"),children:\"Back to Home\"}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate(`/vehicle/${vehicle.id}/edit`),children:\"Edit Vehicle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:handleDelete,children:\"Delete Vehicle\"})]});}export default VehicleDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","VehicleDetail","id","vehicle","setVehicle","error","setError","navigate","token","localStorage","getItem","fetch","headers","Authorization","then","res","ok","Error","json","data","catch","err","message","handleDelete","window","confirm","method","children","className","value","name","readOnly","current_mileage","last_service_km","service_interval_km","pajak_due","slice","type","onClick"],"sources":["C:/Users/Tuyes/Desktop/skripsi-nxt/dashboard-react/src/components/VehicleDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport \"./VehicleDetail.css\";\r\n\r\nfunction VehicleDetail() {\r\n  const { id } = useParams();\r\n  const [vehicle, setVehicle] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    fetch(`http://localhost:5000/api/vehicles/${id}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"Vehicle not found\");\r\n        return res.json();\r\n      })\r\n      .then((data) => setVehicle(data))\r\n      .catch((err) => setError(err.message));\r\n  }, [id, navigate]);\r\n\r\n  const handleDelete = async () => {\r\n    if (!window.confirm(\"Are you sure you want to delete this vehicle?\")) return;\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/api/vehicles/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (!res.ok) throw new Error(\"Failed to delete vehicle\");\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  if (error) return <div>{error}</div>;\r\n  if (!vehicle) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"vehicle-detail-container\">\r\n      <h1 className=\"title\">Vehicle Detail</h1>\r\n      <div className=\"form-grid\">\r\n        <div className=\"field\">\r\n          <label>Name</label>\r\n          <input value={vehicle.name} readOnly />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>\r\n            <i>Current Mileage</i>\r\n          </label>\r\n          <input value={vehicle.current_mileage} readOnly />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Last Service KM</label>\r\n          <input value={vehicle.last_service_km} readOnly />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Service Interval KM</label>\r\n          <input value={vehicle.service_interval_km} readOnly />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Tax Due</label>\r\n          <input\r\n            value={vehicle.pajak_due ? vehicle.pajak_due.slice(0, 10) : \"\"}\r\n            readOnly\r\n            type=\"date\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <button className=\"back-button\" onClick={() => navigate(\"/\")}>\r\n        Back to Home\r\n      </button>\r\n      <button className=\"back-button\" onClick={() => navigate(`/vehicle/${vehicle.id}/edit`)}>\r\n        Edit Vehicle\r\n      </button>\r\n      <button\r\n        className=\"back-button\"\r\n        onClick={handleDelete}\r\n      >\r\n        Delete Vehicle\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VehicleDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}