{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VirtualAIMechanicChat(_ref){let{open,onClose}=_ref;const[messages,setMessages]=useState([{from:'ai',text:'Hello! I am the Virtual AI mechanic! How can I assist you with your vehicle today?'}]);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const handleSend=async()=>{if(!input.trim())return;const newMessages=[...messages,{from:'user',text:input}];setMessages(newMessages);setInput('');setLoading(true);try{// Call your backend API endpoint that proxies to OpenAI (recommended for security)\nconst res=await axios.post('http://localhost:5000/api/ai-chat',{messages:newMessages.map(m=>({role:m.from==='user'?'user':'assistant',content:m.text}))});setMessages([...newMessages,{from:'ai',text:res.data.reply}]);}catch(err){setMessages([...newMessages,{from:'ai',text:'Maaf, terjadi kesalahan pada server AI.'}]);}setLoading(false);};if(!open)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"ai-chat-modal-overlay\",style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.4)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{className:\"ai-chat-modal\",style:{background:'#fff',borderRadius:12,width:700,maxWidth:'90vw',padding:20,boxShadow:'0 2px 16px #0002',height:800,maxHeight:'90vh'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:\"Virtual AI Mechanic\"}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:630,maxHeight:630,overflowY:'auto',marginBottom:12,background:'#f7f7f7',borderRadius:8,padding:8},children:messages.map((msg,idx)=>/*#__PURE__*/_jsx(\"div\",{style:{textAlign:msg.from==='ai'?'left':'right',margin:'6px 0'},children:/*#__PURE__*/_jsx(\"span\",{style:{background:msg.from==='ai'?'#658af7':'#DC143C',borderRadius:8,padding:'6px 12px',display:'inline-block',maxWidth:'80%'},children:msg.text})},idx))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"input\",{style:{flex:1,borderRadius:6,border:'1px solid #ccc',padding:6},value:input,onChange:e=>setInput(e.target.value),onKeyDown:e=>e.key==='Enter'&&handleSend(),placeholder:\"Ask your question here...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,style:{borderRadius:6,padding:'6px 16px'},children:\"Send\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{marginTop:12,float:'right',background:'#eee',border:'none',borderRadius:6,padding:'6px 16px'},children:\"Close\"})]})});}export default VirtualAIMechanicChat;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","VirtualAIMechanicChat","_ref","open","onClose","messages","setMessages","from","text","input","setInput","loading","setLoading","handleSend","trim","newMessages","res","post","map","m","role","content","data","reply","err","className","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","children","borderRadius","width","maxWidth","padding","boxShadow","height","maxHeight","marginTop","minHeight","overflowY","marginBottom","msg","idx","textAlign","margin","gap","flex","border","value","onChange","e","target","onKeyDown","key","placeholder","onClick","float"],"sources":["/Users/jumratyahmad/Work/Project/web-vgarage-react/src/components/VirtualAIMechanicChat.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction VirtualAIMechanicChat({ open, onClose }) {\r\n  const [messages, setMessages] = useState([\r\n    { from: 'ai', text: 'Hello! I am the Virtual AI mechanic! How can I assist you with your vehicle today?' }\r\n  ]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n    const newMessages = [...messages, { from: 'user', text: input }];\r\n    setMessages(newMessages);\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Call your backend API endpoint that proxies to OpenAI (recommended for security)\r\n      const res = await axios.post('http://localhost:5000/api/ai-chat', {\r\n        messages: newMessages.map(m => ({\r\n          role: m.from === 'user' ? 'user' : 'assistant',\r\n          content: m.text\r\n        }))\r\n      });\r\n      setMessages([...newMessages, { from: 'ai', text: res.data.reply }]);\r\n    } catch (err) {\r\n      setMessages([...newMessages, { from: 'ai', text: 'Maaf, terjadi kesalahan pada server AI.' }]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"ai-chat-modal-overlay\" style={{\r\n      position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n      background: 'rgba(0,0,0,0.4)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000\r\n    }}>\r\n      <div className=\"ai-chat-modal\" style={{\r\n        background: '#fff', borderRadius: 12, width: 700, maxWidth: '90vw', padding: 20, boxShadow: '0 2px 16px #0002', height: 800, maxHeight:'90vh'\r\n      }}>\r\n        <h3 style={{ marginTop: 0 }}>Virtual AI Mechanic</h3>\r\n        <div style={{\r\n          minHeight: 630, maxHeight: 630, overflowY: 'auto', marginBottom: 12, background: '#f7f7f7', borderRadius: 8, padding: 8\r\n        }}>\r\n          {messages.map((msg, idx) => (\r\n            <div key={idx} style={{\r\n              textAlign: msg.from === 'ai' ? 'left' : 'right',\r\n              margin: '6px 0'\r\n            }}>\r\n              <span style={{\r\n                background: msg.from === 'ai' ? '#658af7' : '#DC143C',\r\n                borderRadius: 8,\r\n                padding: '6px 12px',\r\n                display: 'inline-block',\r\n                maxWidth: '80%'\r\n              }}>\r\n                {msg.text}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div style={{ display: 'flex', gap: 8 }}>\r\n          <input\r\n            style={{ flex: 1, borderRadius: 6, border: '1px solid #ccc', padding: 6 }}\r\n            value={input}\r\n            onChange={e => setInput(e.target.value)}\r\n            onKeyDown={e => e.key === 'Enter' && handleSend()}\r\n            placeholder=\"Ask your question here...\"\r\n          />\r\n          <button onClick={handleSend} style={{ borderRadius: 6, padding: '6px 16px' }}>Send</button>\r\n        </div>\r\n        <button onClick={onClose} style={{ marginTop: 12, float: 'right', background: '#eee', border: 'none', borderRadius: 6, padding: '6px 16px' }}>Close</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VirtualAIMechanicChat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}